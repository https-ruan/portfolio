<!-- Templates -->
<ng-template
  let-attribute="attribute"
  let-quotes="quotes"
  let-delay="delay"
  #attr_snippet
>
  <ngx-typed-js
    [strings]="[
      '<span class=\'attr-color\'>' +
        (attribute | translate) +
        ':</span> ' +
        (quotes ? '&quot;' : '') +
        (myself[attribute] | translate) +
        (quotes ? '&quot;' : '') +
        '<span class=\'attr-color\'>,</span>'
    ]"
    [showCursor]="false"
    [startDelay]="delay"
  >
    <span class="code-line">&nbsp; <span class="typing"></span></span>
  </ngx-typed-js>
</ng-template>

<section id="welcome" class="container">
  <div id="presentation" class="flex flex-cv">
    <div id="code-container">
      <div id="window-actions">
        <i class="red">
          <svg
            width="8"
            height="8"
            viewBox="0 0 8 8"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M7 1L1 7M1 1L7 7"
              stroke="black"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </i>
        <i class="yellow">
          <svg
            width="17"
            height="3"
            viewBox="0 0 17 3"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="17" height="3" rx="1" fill="black" />
          </svg>
        </i>
        <i class="green">
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3.69663 3.81802L9.63428 4.24432L4.12293 9.75568L3.69663 3.81802Z"
              fill="black"
            />
            <path
              d="M12.1819 12.3033L6.24426 11.877L11.7556 6.36563L12.1819 12.3033Z"
              fill="black"
            />
          </svg>
        </i>
      </div>

      <p id="code-block">
        <ngx-typed-js
          [strings]="[
            '<span class=\'reserved-color\'>const</span> ' +
              ('myself' | translate) +
              ' <span class=\'reserved-color\'>=</span> &#123;'
          ]"
          [showCursor]="false"
        >
          <span class="code-line typing"></span>
        </ngx-typed-js>
        <ng-container *ngFor="let attr of myself | keyvalue; index as idx">
          <ng-container
            [ngTemplateOutlet]="attr_snippet"
            [ngTemplateOutletContext]="{
              attribute: attr.key,
              quotes: (attr.value | typeof) === 'number' ? false : true,
              delay: (idx + 1) * 1700
            }"
          ></ng-container>
        </ng-container>
        <ngx-typed-js
          [strings]="['}']"
          [showCursor]="false"
          [startDelay]="1300"
        >
          <span class="code-line typing"></span>
        </ngx-typed-js>
      </p>
    </div>

    <div id="who-am-i">
      <button
        *ngIf="!photoIsOpen"
        (click)="showMe($any($event.target))"
        @whoAmI
        translate
      >
        Who am I?
      </button>

      <div id="picture" *ngIf="photoIsOpen" @picture>
        <b id="picture-header" translate>It's me</b>

        <div id="wrapper">
          <div id="border"></div>
          <img src="assets/welcome/ruan.png" alt="Ruan's picture" />
        </div>

        <b id="picture-footer" (click)="playMarioSound($any($event.target))">
          <small translate>but not Mario...</small>
          <svg
            width="14"
            height="12"
            viewBox="0 0 14 12"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_3_1281)">
              <mask
                id="mask0_3_1281"
                style="mask-type: luminance"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="14"
                height="12"
              >
                <path
                  d="M14 0.777496H0.853516V11.8698H14V0.777496Z"
                  fill="white"
                />
              </mask>
              <g mask="url(#mask0_3_1281)">
                <mask
                  id="mask1_3_1281"
                  style="mask-type: luminance"
                  maskUnits="userSpaceOnUse"
                  x="-7"
                  y="-57"
                  width="112"
                  height="106"
                >
                  <path
                    d="M-6.59692 -56.1072H104.996V48.3605H-6.59692V-56.1072Z"
                    fill="white"
                  />
                </mask>
                <g mask="url(#mask1_3_1281)">
                  <path
                    d="M5.21274 1.27663L6.25993 1.1355L10.0581 1.30222L11.4426 1.91861L12.3655 2.85592L12.9156 3.70313L13.2885 4.64057L13.5014 5.47499L13.5368 6.16841L13.5014 7.05427L13.3594 7.76035L13.0755 8.42805L12.5961 9.37815C12.5961 9.37815 12.0281 10.0972 12.0281 10.1357C12.0281 10.1742 11.1053 10.829 11.1053 10.829L9.93393 11.3682L8.15902 11.4709L6.5617 11.548L5.51451 11.4324L4.05906 10.8804L2.74565 9.77624L1.80495 8.42805L1.39669 7.06707L1.34344 5.91159L1.46762 4.85874L1.85838 3.90864L2.47943 3.04849L3.2604 2.29084L4.30759 1.61035L5.21274 1.27663Z"
                    fill="#FCD205"
                  />
                  <path
                    d="M9.55327 11.1756C9.51899 11.1756 8.34307 11.2514 8.26685 11.2514C8.95993 10.9783 9.61381 10.6034 10.122 10.0929C11.1608 9.04917 11.7538 7.73264 11.7538 6.33209C11.7538 4.94064 11.1664 3.60762 10.0999 2.57086C9.49346 1.98125 8.8746 1.62247 8.07101 1.33308L9.5106 1.41578C10.62 1.41578 13.2349 3.02276 13.2349 6.33512C13.2349 9.48248 10.5782 11.1756 9.55327 11.1756ZM6.33877 11.3204C4.11511 11.3204 1.63034 9.19268 1.63034 6.33209C1.63034 5.0116 2.16114 3.74784 3.12518 2.77386C4.02813 1.86148 5.1964 1.32635 6.33147 1.32371V1.32397H6.38909C7.57906 1.33888 8.80512 1.84143 9.75111 2.75434C10.7678 3.7357 11.3278 5.00633 11.3278 6.33209C11.3278 7.66761 10.772 8.93851 9.77627 9.91063C8.8301 10.8345 7.58051 11.3173 6.34478 11.3204H6.33877ZM9.79469 1.0884V1.08774L6.33147 0.918107C5.02208 0.920877 3.68843 1.53647 2.68409 2.55121C1.65623 3.58955 1.09772 4.93246 1.09772 6.33209C1.09772 7.72816 1.66881 9.0712 2.70543 10.1135C3.71487 11.1286 5.03703 11.7004 6.33366 11.7025L9.58172 11.5594C11.0344 11.5594 13.8046 9.92053 13.8046 6.33512C13.8046 2.75948 11.1309 1.0884 9.79469 1.0884ZM6.45346 10.0925C5.38858 10.0925 3.35183 8.84208 3.35183 6.31402C3.35183 4.17177 5.03156 2.46613 6.45346 2.46613C8.35237 2.46613 9.808 4.20792 9.808 6.31402C9.808 8.41986 8.35237 10.0925 6.45346 10.0925ZM9.10489 3.37191C8.35638 2.56506 7.35405 2.10972 6.30467 2.10972C5.33972 2.10972 4.36711 2.57719 3.64941 3.37363C2.92588 4.17626 2.53512 5.22054 2.53512 6.31402C2.53512 7.40539 2.93572 8.44967 3.66308 9.25428C4.38297 10.0505 5.34573 10.4963 6.30467 10.4963C7.35405 10.4963 8.34434 10.0627 9.09286 9.25573C9.82861 8.46247 10.234 7.41779 10.234 6.31402C10.234 5.20999 9.84064 4.16518 9.10489 3.37191ZM7.49883 8.80753C7.49883 8.85105 7.45233 8.87519 7.41896 8.87519H6.74211C6.71348 8.87664 6.66024 8.8558 6.66024 8.80753V3.868C6.66024 3.82777 6.69798 3.80047 6.73554 3.80047H7.41659C7.46108 3.80047 7.49883 3.83067 7.49883 3.868V8.80753ZM7.79167 3.4248H5.71498C5.65626 3.4248 5.60849 3.45936 5.60849 3.50184V9.13504C5.60849 9.17778 5.65626 9.21207 5.71498 9.21207H7.79167C7.85038 9.21207 7.89815 9.17778 7.89815 9.13504V3.50184C7.89815 3.45936 7.85038 3.4248 7.79167 3.4248Z"
                    fill="#181210"
                  />
                </g>
              </g>
            </g>
            <defs>
              <clipPath id="clip0_3_1281">
                <rect
                  width="13.1465"
                  height="11.0923"
                  fill="white"
                  transform="translate(0.853516 0.777496)"
                />
              </clipPath>
            </defs>
          </svg>
          <img id="point-up" src="assets/welcome/1up.png" alt="1 up" />
        </b>
      </div>
    </div>
  </div>

  <div id="epic-phrase">
    <p translate>Be the change you want to see in the world! ðŸŒŽ</p>
    <strong>Mahatma Gandhi</strong>
  </div>
</section>
